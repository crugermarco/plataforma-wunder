<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ†Ô∏è SISTEMA ANDON DIGITAL CRUGER 2.0</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <h1>üõ†Ô∏è SISTEMA ANDON DIGITAL CRUGER 2.0</h1>
        <div class="header-info">
            <div class="info-item">
                <span>üïí</span>
                <span id="current-time"></span>
            </div>
            <div class="info-item">
                <span>üìä</span>
                <span id="total-machines">0 M√°quinas</span>
            </div>
            <div class="info-item">
                <span>üîÑ</span>
                <span>Auto-actualizaci√≥n: 60s</span>
            </div>
            <button id="tech-btn" class="btn-tech" style="display: none;">
                ‚öôÔ∏è Panel T√©cnico
            </button>
            <button id="request-btn" class="btn-request">
                ‚úâÔ∏è Solicitar Mantenimiento
            </button>
        </div>
    </header>

    <div class="controls">
        <button class="btn-refresh" onclick="loadData()">
            üîÑ Actualizar Datos
        </button>
    </div>

    <div class="container">
        <div id="content" class="machines-container">
            <div class="loading">
                <div class="spinner"></div>
                <p>Cargando datos del sistema...</p>
            </div>
        </div>
        <div class="last-update">
            √öltima actualizaci√≥n: <span id="last-update-time">--</span>
        </div>
    </div>

    <!-- Modal para solicitud de usuario -->
    <div class="modal" id="request-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Solicitud de Mantenimiento</h3>
                <button class="close-modal" onclick="closeModal('request-modal')">&times;</button>
            </div>
            <form id="request-form">
                <div class="form-group">
                    <label>M√°quina</label>
                    <select class="form-control" id="machine" required>
                        <option value="">Seleccione una m√°quina</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Prioridad</label>
                    <select class="form-control" id="priority" required>
                        <option value="">Seleccione prioridad</option>
                        <option value="Alta">Alta</option>
                        <option value="Media">Media</option>
                        <option value="Baja">Baja</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Descripci√≥n del Problema</label>
                    <textarea class="form-control" id="problem-description" rows="4" required></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-cancel" onclick="closeModal('request-modal')">Cancelar</button>
                    <button type="submit" class="btn-submit">Enviar Solicitud</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para t√©cnicos -->
    <div class="modal" id="tech-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Actualizar Estado de M√°quina</h3>
                <button class="close-modal" onclick="closeModal('tech-modal')">&times;</button>
            </div>
            <form id="tech-form">
                <input type="hidden" id="machine-id">
                <input type="hidden" id="machine-row">
                
                <div class="form-group">
                    <label>Descripci√≥n del Problema</label>
                    <textarea class="form-control" id="tech-problem-description" disabled rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Acci√≥n Realizada</label>
                    <input type="text" class="form-control" id="action-taken" required>
                </div>
                
                <div class="form-group">
                    <label>T√©cnico</label>
                    <input type="text" class="form-control" id="technician" required>
                </div>
                
                <div class="form-group">
                    <label>Estatus</label>
                    <select class="form-control" id="status" required>
                        <option value="FALSE">MT (Mantenimiento)</option>
                        <option value="TRUE">Activa</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Cotizaciones (PDF)</label>
                    <input type="file" class="form-control" id="quotations" accept=".pdf">
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-cancel" onclick="closeModal('tech-modal')">Cancelar</button>
                    <button type="submit" class="btn-submit">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para restricci√≥n -->
    <div class="modal" id="restriction-modal">
        <div class="modal-content restriction-modal">
            <div class="modal-header">
                <h3 class="modal-title">Acceso Restringido</h3>
                <button class="close-modal" onclick="closeModal('restriction-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>‚ùå Solo los usuarios Marco Cruger o Josue Chavez pueden usar esta funci√≥n</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel" onclick="closeModal('restriction-modal')">Entendido</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
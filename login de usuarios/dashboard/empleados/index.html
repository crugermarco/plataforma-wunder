<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Empleados</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background-animation">
        <div class="pulse-circle" style="top: 10%; left: 10%; width: 200px; height: 200px; animation-delay: 0s;"></div>
        <div class="pulse-circle" style="top: 60%; right: 15%; width: 150px; height: 150px; animation-delay: 2s;"></div>
        <div class="pulse-circle" style="bottom: 20%; left: 20%; width: 120px; height: 120px; animation-delay: 4s;"></div>
    </div>

    <div class="dashboard-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h1 class="sidebar-title">GESTIÓN DE EMPLEADOS</h1>
                <p class="sidebar-subtitle">Panel de Control Sistema CRUGER 2.1</p>
                <div id="userNameDisplay" class="user-name-display"></div>
            </div>
            
            <nav class="nav-menu">
                <div class="nav-item active" data-section="asistencias">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                    </svg>
                    ASISTENCIAS
                </div>
                <div class="nav-item" data-section="vacaciones">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    VACACIONES
                </div>
                <div class="nav-item" data-section="permisos">
                    <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                    PERMISOS
                </div>
            </nav>
        </div>

        <div class="main-content">
            <div class="content-header">
                <h1 class="page-title" id="page-title">Control de Asistencias</h1>
                <p class="page-subtitle" id="page-subtitle">Gestiona las asistencias y faltas del personal</p>
            </div>

            <div class="section-content active" id="asistencias-section">
                <div class="glassmorphism-table">
                    <div class="table-header">
                        <h3 class="table-title">Registro de Asistencias</h3>
                        <button class="modern-button" id="generate-report-btn">
                            <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Generar Reporte
                        </button>
                    </div>
                    <div class="table-filters">
                        <input type="text" class="filter-input" placeholder="Filtrar por mes (mm/aaaa)..." data-column="0" data-table="attendance">
                        <input type="text" class="filter-input" placeholder="Filtrar por nombre..." data-column="1" data-table="attendance">
                        <input type="text" class="filter-input" placeholder="Filtrar por asunto..." data-column="2" data-table="attendance">
                        <input type="text" class="filter-input" placeholder="Filtrar por puntos..." data-column="3" data-table="attendance">
                    </div>
                    <div class="attendance-table-container">
                        <table class="data-table" id="attendance-table">
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Nombre del Empleado</th>
                                    <th>Asunto</th>
                                    <th>Puntos</th>
                                </tr>
                            </thead>
                            <tbody id="attendance-table-body"></tbody>
                        </table>
                    </div>
                </div>

                <div class="mini-table-container">
                    <div class="glassmorphism-table">
                        <div class="table-header">
                            <h3 class="mini-table-title">PERSONAL CON 5HRS DISPONIBLES</h3>
                        </div>
                        <div class="table-filters">
                            <input type="text" class="filter-input" placeholder="Filtrar por nombre..." data-column="0" data-table="missing-employees">
                            <input type="text" class="filter-input" placeholder="Filtrar por último registro..." data-column="1" data-table="missing-employees">
                            <input type="text" class="filter-input" placeholder="Filtrar por días..." data-column="2" data-table="missing-employees">
                        </div>
                        <table class="data-table" id="missing-employees-table">
                            <thead>
                                <tr>
                                    <th>Nombre del Empleado</th>
                                    <th>Último Registro</th>
                                    <th>Días sin Registro</th>
                                </tr>
                            </thead>
                            <tbody id="missing-employees-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="section-content" id="vacaciones-section">
                <div class="glassmorphism-table">
                    <div class="table-header">
                        <h3 class="table-title">Vacaciones Agendadas</h3>
                        <button class="modern-button" id="add-vacation-btn">
                            <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Agregar Vacaciones
                        </button>
                    </div>
                    <div class="table-filters">
                        <input type="text" class="filter-input" placeholder="Filtrar por nombre..." data-column="0" data-table="vacation">
                        <input type="text" class="filter-input" placeholder="Filtrar por fecha entrada..." data-column="1" data-table="vacation">
                        <input type="text" class="filter-input" placeholder="Filtrar por ID..." data-column="2" data-table="vacation">
                        <input type="text" class="filter-input" placeholder="Filtrar por días vacaciones..." data-column="3" data-table="vacation">
                        <input type="text" class="filter-input" placeholder="Filtrar por fecha salida..." data-column="4" data-table="vacation">
                        <input type="text" class="filter-input" placeholder="Filtrar por fecha regreso..." data-column="5" data-table="vacation">
                    </div>
                    <table class="data-table" id="vacation-table">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Fecha Ingreso</th>
                                <th>ID #</th>
                                <th>Días Vacaciones</th>
                                <th>Fecha Salida</th>
                                <th>Fecha Regreso</th>
                                <th>Autorizadas</th>
                            </tr>
                        </thead>
                        <tbody id="vacation-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div class="section-content" id="permisos-section">
                <div class="glassmorphism-table">
                    <div class="table-header">
                        <h3 class="table-title">Solicitud de Permisos</h3>
                        <button class="modern-button" id="generate-permission-btn">
                            <svg style="width: 1rem; height: 1rem; margin-right: 0.5rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Generar Permiso
                        </button>
                    </div>
                    <div class="table-filters">
                        <input type="text" class="filter-input" placeholder="Filtrar por nombre..." data-column="0" data-table="permissions">
                        <input type="text" class="filter-input" placeholder="Filtrar por tipo..." data-column="1" data-table="permissions">
                        <input type="text" class="filter-input" placeholder="Filtrar por fecha..." data-column="2" data-table="permissions">
                        <input type="text" class="filter-input" placeholder="Filtrar por estado..." data-column="3" data-table="permissions">
                    </div>
                    <table class="data-table" id="permissions-table">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Tipo de Permiso</th>
                                <th>Fecha Solicitud</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="permissions-table-body">
                            <tr>
                                <td colspan="5" class="no-data">No hay permisos registrados</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Asistencias -->
    <div class="modal" id="attendance-modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h3 class="modal-title">Generar Reporte de Asistencia</h3>
                <button class="close-button" id="close-attendance-modal">&times;</button>
            </div>
            <form id="attendance-form">
                <div class="form-group">
                    <label class="form-label">Fecha</label>
                    <input type="text" class="form-input" id="attendance-date" placeholder="dd/mm/aaaa" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Nombre del Empleado</label>
                    <input type="text" class="form-input" id="employee-name" placeholder="Ingrese el nombre completo" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo de Registro</label>
                    <select class="form-select" id="attendance-type" required>
                        <option value="">Seleccione una opción</option>
                        <option value="Asistencia">Asistencia</option>
                        <option value="Permiso - Por Hora">Permiso - Por Hora</option>
                        <option value="Permiso - Por Día">Permiso - Por Día</option>
                        <option value="Falta injustificada">Falta injustificada</option>
                        <option value="Vacaciones">Vacaciones</option>
                        <option value="Suspensión">Suspensión</option>
                        <option value="Falta justificada">Falta justificada</option>
                        <option value="NO SE ESCANEA O NO CUENTA CON GAFETE">NO SE ESCANEA O NO CUENTA CON GAFETE</option>
                        <option value="5hrs">5hrs</option>
                        <option value="Incapacidad">Incapacidad</option>
                    </select>
                </div>
                <div class="button-group">
                    <button type="button" class="cancel-button" id="cancel-attendance">Cancelar</button>
                    <button type="submit" class="modern-button">Guardar Registro</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Vacaciones -->
    <div class="modal" id="vacation-modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h3 class="modal-title">Agregar Vacaciones</h3>
                <button class="close-button" id="close-vacation-modal">&times;</button>
            </div>
            <form id="vacation-form">
                <div class="form-group">
                    <label class="form-label">Nombre del Empleado</label>
                    <input type="text" class="form-input" id="vacation-employee-name" placeholder="Ingrese el nombre completo" required list="employee-names-list">
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha de Inicio de Vacaciones</label>
                    <input type="date" class="form-input" id="vacation-start-date" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ID del Empleado</label>
                    <input type="text" class="form-input" id="vacation-employee-id" placeholder="EMP###" readonly required>
                </div>
                <div class="form-group">
                    <label class="form-label">Posición</label>
                    <input type="text" class="form-input" id="vacation-position" placeholder="Cargo del empleado" readonly required>
                </div>
                <div class="form-group">
                    <label class="form-label">Días de Vacaciones</label>
                    <input type="number" class="form-input" id="vacation-days" min="0.1" max="30" step="0.1" required>
                </div>
                <div class="button-group">
                    <button type="button" class="cancel-button" id="cancel-vacation">Cancelar</button>
                    <button type="submit" class="modern-button">Agregar Vacaciones</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Permisos -->
    <div class="modal" id="permission-modal">
        <div class="modal-content compact-modal">
            <div class="modal-header">
                <h3 class="modal-title">Solicitud de Permiso</h3>
                <button class="close-button" id="close-permission-modal">&times;</button>
            </div>
            <form id="permission-form">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Nombre</label>
                        <input type="text" class="form-input" id="permission-name" placeholder="Ingrese su nombre" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label"># Empleado</label>
                        <input type="text" class="form-input" id="permission-employee-id" readonly required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Área</label>
                        <input type="text" class="form-input" id="permission-area" readonly required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Fecha de Llenado</label>
                        <input type="text" class="form-input" id="permission-fill-date" readonly required>
                    </div>
                </div>

                <div class="permission-types">
                    <h4 class="section-title">Tipo de Permiso</h4>
                    <div class="toggle-group">
                        <div class="toggle-item">
                            <label class="toggle-label">
                                <span class="toggle-text">Permiso por día</span>
                                <input type="checkbox" class="toggle-input" id="permission-day">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="toggle-item">
                            <label class="toggle-label">
                                <span class="toggle-text">Permiso por día con goce</span>
                                <input type="checkbox" class="toggle-input" id="permission-day-with-pay">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="toggle-item">
                            <label class="toggle-label">
                                <span class="toggle-text">Paternidad</span>
                                <input type="checkbox" class="toggle-input" id="permission-paternity">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="toggle-item">
                            <label class="toggle-label">
                                <span class="toggle-text">Fallecimiento</span>
                                <input type="checkbox" class="toggle-input" id="permission-bereavement">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="toggle-item">
                            <label class="toggle-label">
                                <span class="toggle-text">Matrimonio</span>
                                <input type="checkbox" class="toggle-input" id="permission-marriage">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="toggle-item">
                            <label class="toggle-label">
                                <span class="toggle-text">Permiso por horas</span>
                                <input type="checkbox" class="toggle-input" id="permission-hours">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-row" id="hours-container" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Horas de permiso</label>
                        <input type="number" class="form-input" id="permission-hours-count" min="1" max="8" step="0.5" placeholder="Cantidad de horas">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Permiso de entrada</label>
                        <input type="time" class="form-input" id="permission-entry-time">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Permiso de salida</label>
                        <input type="time" class="form-input" id="permission-exit-time">
                    </div>
                </div>

                <div class="form-row" id="date-range-container">
                    <div class="form-group">
                        <label class="form-label">Fecha de inicio</label>
                        <input type="date" class="form-input" id="permission-start-date">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Fecha de regreso</label>
                        <input type="date" class="form-input" id="permission-end-date">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Comentarios</label>
                    <textarea class="form-input form-textarea" id="permission-comments" placeholder="Justificación del permiso..." required></textarea>
                </div>

                <div class="button-group">
                    <button type="button" class="cancel-button" id="cancel-permission">Cancelar</button>
                    <button type="submit" class="modern-button">Generar Permiso</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
